{{- printf "<?xml version=\"1.0\"?>" | safeHTML }}
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>{{ .Site.Title }}</title>
    <link>{{ .Permalink }}</link>
    <atom:link href="{{ "/feed/hackernoon/index.xml" | absURL }}" rel="self" type="application/rss+xml" />
    <description>{{ .Site.Params.description }}</description>
    <language>{{ .Site.LanguageCode }}</language>{{ if not .Date.IsZero }}
    <pubDate>{{ time.Now.Format "Mon, 02 Jan 2006 15:04:05 -0700" | safeHTML }}</pubDate>
    <lastBuildDate>{{ time.Now.Format "Mon, 02 Jan 2006 15:04:05 -0700" | safeHTML }}</lastBuildDate>{{ end }}
    {{ range (where (where .Site.RegularPages "Type" "posts") ".Params.externalfeeds" 1) }}
    <item>
      <title>{{ .Title }}</title>
      <link>{{ .Permalink }}</link>
      <pubDate>{{ .Date.Format "Mon, 02 Jan 2006 15:04:05 -0700" | safeHTML }}</pubDate>
      <dc:creator>{{ .Site.Params.author }}</dc:creator>
      <guid>{{ .Permalink | strings.TrimSuffix "/" }}</guid>{{ range .Params.tags }}
      <category>{{ if eq . "web" }}web-development{{ else }}{{ if eq . ".net" }}dotnet{{ else }}{{ . }}{{ end }}{{ end }}</category>
      {{- end }}
      <description>{{ .Content | html }}</description>
    </item>
    {{ end }}
  </channel>
</rss>
